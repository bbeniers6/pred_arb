import { Market, ArbOpportunity } from "@/types";
import { findArbitrageOpportunities } from "./matcher";

/**
 * Demo markets for development and when APIs are unavailable.
 * These simulate realistic prediction market data.
 */
const demoPolymarketMarkets: Market[] = [
  {
    id: "pm-btc-100k-2026",
    platform: "polymarket",
    title: "Will Bitcoin reach $100,000 by end of 2026?",
    slug: "bitcoin-100k-2026",
    category: "crypto",
    endDate: "2026-12-31T23:59:59Z",
    yesPrice: 0.72,
    noPrice: 0.30,
    volume: 5420000,
    liquidity: 890000,
    active: true,
    url: "https://polymarket.com/event/bitcoin-100k-2026",
  },
  {
    id: "pm-fed-rate-cut-mar",
    platform: "polymarket",
    title: "Will the Fed cut interest rates in March 2026?",
    slug: "fed-rate-cut-march-2026",
    category: "economics",
    endDate: "2026-03-31T23:59:59Z",
    yesPrice: 0.35,
    noPrice: 0.67,
    volume: 3100000,
    liquidity: 520000,
    active: true,
    url: "https://polymarket.com/event/fed-rate-cut-march-2026",
  },
  {
    id: "pm-trump-approval-50",
    platform: "polymarket",
    title: "Will Trump approval rating exceed 50% in February 2026?",
    slug: "trump-approval-50-feb-2026",
    category: "politics",
    endDate: "2026-02-28T23:59:59Z",
    yesPrice: 0.22,
    noPrice: 0.80,
    volume: 1850000,
    liquidity: 310000,
    active: true,
    url: "https://polymarket.com/event/trump-approval-50-feb-2026",
  },
  {
    id: "pm-spacex-starship-orbit",
    platform: "polymarket",
    title: "Will SpaceX Starship reach orbit by June 2026?",
    slug: "spacex-starship-orbit-2026",
    category: "science",
    endDate: "2026-06-30T23:59:59Z",
    yesPrice: 0.65,
    noPrice: 0.37,
    volume: 2200000,
    liquidity: 410000,
    active: true,
    url: "https://polymarket.com/event/spacex-starship-orbit-2026",
  },
  {
    id: "pm-ai-gpt5-2026",
    platform: "polymarket",
    title: "Will OpenAI release GPT-5 before July 2026?",
    slug: "openai-gpt5-2026",
    category: "tech",
    endDate: "2026-07-01T23:59:59Z",
    yesPrice: 0.58,
    noPrice: 0.44,
    volume: 4100000,
    liquidity: 720000,
    active: true,
    url: "https://polymarket.com/event/openai-gpt5-2026",
  },
  {
    id: "pm-ufc-300-jones",
    platform: "polymarket",
    title: "Will Jon Jones fight at UFC 300?",
    slug: "ufc-300-jones",
    category: "sports",
    endDate: "2026-04-15T23:59:59Z",
    yesPrice: 0.45,
    noPrice: 0.57,
    volume: 980000,
    liquidity: 190000,
    active: true,
    url: "https://polymarket.com/event/ufc-300-jones",
  },
];

const demoKalshiMarkets: Market[] = [
  {
    id: "kl-btc-100k-eoy26",
    platform: "kalshi",
    title: "Bitcoin above $100,000 at end of 2026",
    slug: "BTC-100K-26",
    category: "crypto",
    endDate: "2026-12-31T23:59:59Z",
    yesPrice: 0.68,
    noPrice: 0.34,
    volume: 3890000,
    liquidity: 670000,
    active: true,
    url: "https://kalshi.com/markets/BTC-100K-26",
  },
  {
    id: "kl-fed-cut-mar-26",
    platform: "kalshi",
    title: "Federal Reserve rate cut in March 2026",
    slug: "FED-CUT-MAR26",
    category: "economics",
    endDate: "2026-03-31T23:59:59Z",
    yesPrice: 0.31,
    noPrice: 0.71,
    volume: 2450000,
    liquidity: 380000,
    active: true,
    url: "https://kalshi.com/markets/FED-CUT-MAR26",
  },
  {
    id: "kl-trump-approve-50",
    platform: "kalshi",
    title: "Trump approval rating above 50% in February 2026",
    slug: "TRUMP-APPROVE-50-FEB26",
    category: "politics",
    endDate: "2026-02-28T23:59:59Z",
    yesPrice: 0.19,
    noPrice: 0.83,
    volume: 1240000,
    liquidity: 210000,
    active: true,
    url: "https://kalshi.com/markets/TRUMP-APPROVE-50-FEB26",
  },
  {
    id: "kl-starship-orbit-26",
    platform: "kalshi",
    title: "SpaceX Starship reaches orbit before July 2026",
    slug: "STARSHIP-ORBIT-H126",
    category: "science",
    endDate: "2026-06-30T23:59:59Z",
    yesPrice: 0.61,
    noPrice: 0.41,
    volume: 1780000,
    liquidity: 320000,
    active: true,
    url: "https://kalshi.com/markets/STARSHIP-ORBIT-H126",
  },
  {
    id: "kl-gpt5-release-26",
    platform: "kalshi",
    title: "OpenAI releases GPT-5 by July 2026",
    slug: "GPT5-JUL26",
    category: "tech",
    endDate: "2026-07-01T23:59:59Z",
    yesPrice: 0.53,
    noPrice: 0.49,
    volume: 3200000,
    liquidity: 580000,
    active: true,
    url: "https://kalshi.com/markets/GPT5-JUL26",
  },
  {
    id: "kl-jones-ufc300",
    platform: "kalshi",
    title: "Jon Jones fights at UFC 300",
    slug: "JONES-UFC300",
    category: "sports",
    endDate: "2026-04-15T23:59:59Z",
    yesPrice: 0.41,
    noPrice: 0.61,
    volume: 720000,
    liquidity: 140000,
    active: true,
    url: "https://kalshi.com/markets/JONES-UFC300",
  },
];

export function getDemoMarkets(): { polymarket: Market[]; kalshi: Market[] } {
  return {
    polymarket: demoPolymarketMarkets,
    kalshi: demoKalshiMarkets,
  };
}

export function getDemoOpportunities(): ArbOpportunity[] {
  return findArbitrageOpportunities(
    demoPolymarketMarkets,
    demoKalshiMarkets,
    0.3,
    0
  );
}
